CREATE DATABASE IF NOT EXISTS tsprod 
	DEFAULT CHARACTER SET = 'utf8' 
	DEFAULT COLLATE = 'utf8_general_ci';

CREATE TABLE `city` (
    `CITYID` INT(6) UNSIGNED NOT NULL,
    `NAME` VARCHAR(99),
    `SIZE` INT(6) UNSIGNED,
    PRIMARY KEY (`CITYID`)
)
COLLATE='utf8_general_ci'
ENGINE=InnoDB;

CREATE TABLE `council` (
    `COUNCILID` INT(6) UNSIGNED NOT NULL,
    `CITYID` INT(6) UNSIGNED,
    `NAME` VARCHAR(99),
    `KEEPER` VARCHAR(99),
    `JOB` VARCHAR(99),
    `RACE` VARCHAR(99),
    `SKILL` VARCHAR(99),
    `ALLIES` INT(6) UNSIGNED,
    `ENEMIES` INT(6) UNSIGNED,
    `INFLUENCE` INT(6) UNSIGNED,
    PRIMARY KEY (`COUNCILID`),
    KEY `CITYID` (`CITYID`),
    CONSTRAINT `council_fk1` FOREIGN KEY (`CITYID`) REFERENCES `city` (`CITYID`)
)
COLLATE='utf8_general_ci'
ENGINE=InnoDB;

CREATE TABLE `guild` (
    `GUILDID` INT(6) UNSIGNED NOT NULL,
    `NAME` VARCHAR(99),
    PRIMARY KEY (`GUILDID`)
)
COLLATE='utf8_general_ci'
ENGINE=InnoDB;

CREATE TABLE `hero` (
    `HEROID` INT(6) UNSIGNED NOT NULL,
    `CITYID` INT(6) UNSIGNED NULL DEFAULT 0,
    `NAME` VARCHAR(99),
    `KEEPER` VARCHAR(99),
    `GUILDID` INT(6) UNSIGNED,
    `ALLY` INT(6) UNSIGNED NULL DEFAULT 0,
    `ENEMY` INT(6) UNSIGNED NULL DEFAULT 0,
    PRIMARY KEY (`HEROID`),
    KEY `CITYID` (`CITYID`),
    CONSTRAINT `hero_fk1` FOREIGN KEY (`CITYID`) REFERENCES `city` (`CITYID`),
    CONSTRAINT `hero_fk2` FOREIGN KEY (`GUILDID`) REFERENCES `guild` (`GUILDID`)
)
COLLATE='utf8_general_ci'
ENGINE=InnoDB;